<div class="row">
    <div class="small-12 columns">
        <h1>Fantasy Standings</h1>
        <div ng-include="'/app/template/football/navigation.html'"></div>
        <lds-football-week-selector ng-model="week_selector" ng-change="changeWeek(event)"></lds-football-week-selector>
    </div>
</div>
<div class="row full-width">
    <table class="small-12" id="fantasy-standings">
        <tr>
            <th>Rank</th>
            <th colspan="2">Player</th>
            <th ng-repeat="week in weeks">
                {{week.week_num}}
            </th>
            <th>Total</th>
            <th>%</th>
            <th rowspan="{{standings.length + 1}}"></th>
            <th>Weeks<br />Won</th>
            <th rowspan="{{standings.length + 1}}"></th>
            <th><abbr title="Games Played">GP</abbr></th>
            <th>Weighted %</th>
        </tr>
        <tr ng-repeat="player_standing in standings">
            <td class="rank">
                {{player_standing.rank}}
            </td>
            <td class="player-name">{{player_standing.player.name}}</td>
            <td ng-style="getDisplayNameStyle(player_standing.player)" class="player-icon">
                {{player_standing.player.displayName}}
            </td>
            <td
                ng-repeat="week_standing in player_standing.standings"
                ng-style="getWeekPointsStyle(week_standing)"
                class="number"
                ng-attr-title="{{week_standing.standing.percent * 100 | number:1}}%"
            >
                {{week_standing.standing.points}}
            </td>
            <td class="number">
                {{player_standing.total_points}}
            </td>
            <td class="number">
                {{player_standing.total_percent * 100 | number:1}}%
            </td>
            <td class="number">
                {{player_standing.weeks_won}}
            </td>
            <td class="number">
                {{player_standing.potential_points}}
            </td>
            <td class="number">
                {{player_standing.weighted_percent * 100 | number:1}}%
            </td>
        </tr>
        <tr>
            <th colspan="3" class="number">Played Points</th>
            <th ng-repeat="week in weeks" class="number">
                {{week.week.games_played * week.week.win_weight}}
            </th>
            <th class="number">{{playedPoints}}</th>
            <th class="number">{{playedPoints / possiblePoints * 100 | number:1}}%</th>
            <th rowspan="{{standings.length + 1}}"></th>
            <th>&nbsp;</th>
            <th rowspan="{{standings.length + 1}}"></th>
            <th colspan="2">&nbsp;</th>
        </tr>
        <tr>
            <th colspan="3" class="number">Possible Points</th>
            <th ng-repeat="week in weeks" class="number">
                {{week.week.game_count * week.week.win_weight}}
            </th>
            <th class="number">{{possiblePoints}}</th>
            <th>&nbsp;</th>
            <th rowspan="{{standings.length + 1}}"></th>
            <th>&nbsp;</th>
            <th rowspan="{{standings.length + 1}}"></th>
            <th colspan="2">&nbsp;</th>
        </tr>
    </table>
</div>
